<!DOCTYPE html>
<html>
<head><title>PrintP Admin</title>
	<link rel="icon" href="static/icons/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="static/icons/favicon.ico" type="image/x-icon" />
	<script src="static/js/jquery-1.8.3.min.js"></script>
	<link rel="stylesheet" href="static/css/jquery-ui-1.10.0.custom.css" />
	<link rel="stylesheet" href="static/css/jquery.ui.base.css" />
	<link rel="stylesheet" href="static/css/jquery.ui.menu.css" />
    <link rel="stylesheet" href="static/css/jquery.ui.button.min.css" />
    <link rel="stylesheet" href="static/css/jquery.ui.tabs.css" />
    <link rel="stylesheet" href="static/css/mainStyle.css" />
    <link rel="stylesheet" href="static/css/jquery-ui.css" />
 	<script src="static/js/effect.js"></script>
 	<script src="static/js/jquery.ui.core.js"></script>
 	<script src="static/js/jquery-ui-1.10.0.custom.js"></script>
 	<link rel="stylesheet" href="static/css/jquery.mobile-1.2.0.css" />
<style>
    body {
      padding : 10px;
    }
	td {
	  width : 200px;
	  height : 80px;
	}
	
	thead td {
	    background : teal;
	    opacity : 0.5;
	    color : rgb(100,77,22);
	    color : rgba(100,77,22,0.9);
	}
	tfoot td {
	    background : orange;
	    opacity : 0.5;
	    color : rgb(100,77,22);
	    color : rgba(100,77,22,0.9);
	}
		button {
	    	height : 30px;
		}
		.error {
			color : red;
	
		}
		ul#menu {
          	float: right;
          	position : relative;
          	list-style: none;
        }
        li.menu {
       		float: left;
       		position : relative;
       		/*padding : 5px;*/
       		list-style: none;
    	}
      	a {
    		  text-decoration : none;
    	}
    	
    	#notification {
    			width : 960px;
    			height : 20px;
    			display : block;
    			position : relative;
    			padding : 5px;
    			background : rgb(100,252,0);
    			background : rgba(100,252,0,0.5);
    	}
    	#content {
    	     padding : 7px;
    	}
    	.red_background {
    			background : red;
    			background : rgba(255,0,0,0.3);
    		}
    		
    		.valid_drop_area {
    		     
    		     background : yellow;
    		     background : rgba(231,50,0,0.3);
    		
    			}
</style>
</head>
<body>
<div data-role="page">
<div data-role="header"><h1 class="ui-state-highlight">PrintP Admin</h1></div>
<div data-role="content">
<br />
		<div id="default_menu">
			<ul id="menu">
    		  <li class="menu"><a href="#" data-role="button" id="databases" class="ui-btn ui-shadow ui-btn-up-b"><span class="ui-btn-inner"><span class="ui-btn-text" style="color:white;">Database Manager</span></span></a></li>
    		  <li class="menu"><a href="#" data-role="button" id="service_providers" class="ui-btn ui-shadow ui-btn-up-b"><span class="ui-btn-inner"><span class="ui-btn-text" style="color:white;">Service Providers</span></span></a></li>
    		  <li class="menu"><a href="#" data-role="button" id="end_users" class="ui-btn ui-shadow ui-btn-up-b"><span class="ui-btn-inner"><span class="ui-btn-text" style="color:white;">End Users</span></span></a></li>
    		  <li class="menu"><a href="#" data-role="button" id="system_errors" class="ui-btn ui-shadow ui-btn-up-b"><span class="ui-btn-inner"><span class="ui-btn-text" style="color:white;">System Errors</span></span></a></li>
    		  <li class="menu"><a href="#" data-role="button" id="system_alerts" class="ui-btn ui-shadow ui-btn-up-b"><span class="ui-btn-inner"><span class="ui-btn-text" style="color:white;">System Alerts</span></span></a></li>
              <li class="menu"><a href="#" data-role="button" id="more_options" class="ui-btn ui-shadow ui-btn-up-b"><span class="ui-btn-inner"><span class="ui-btn-text" style="color:white;">More</span></span></a></li>
           </ul>
        </div>
        <div id="new_menu"></div>


<div id="content" class="ui-widget-content">
	<h3>Database Tables</h3>
	<div data-role="fieldcontain">
	<a href="#" data-role="button" id="create_tables" class="ui-btn ui-shadow ui-btn-inline ui-btn-up-b"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text" style="color:white;">Create Database Tables</span></span></a>
	<a href="#" data-role="button" id="add_samples" class="ui-btn ui-shadow ui-btn-inline ui-btn-up-b"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text" style="color:white;">Add Sample Data</span></span></a>
	<a href="#" data-role="button" id="backup_database" class="ui-btn ui-shadow ui-btn-inline ui-btn-up-b ui-state-disabled" disabled="disabled"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text" style="color:white;">Backup Database</span></span></a>
	<a href="#" data-role="button" id="reset_system" class="ui-btn ui-shadow ui-btn-inline ui-btn-up-b"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text" style="color:white;">Reset System</span></span></a>
</div>
	<table border="1">
	<thead><tr><td>Table Name</td><td>Created</td><td>Sample Added</td><td>Operations</td><td>Summary Error Messages</td></tr></thead>
	<tbody>
		<tr><td>Photograhers</td><td id="photographers_created">No</td><td id="sample_photographers_added">No</td><td><button id="create_photographers_table" class="photographers_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_photographers" class="photographers_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_photographers_table" class="photographers_btnDB_operations" disabled="disabled">Delete</button><button id="empty_photographers_table" class="photographers_btnDB_operations" disabled="disabled">Empty</button></td><td id="photographers_error_message"></td></tr>
		<tr><td>City</td><td id="city_created">No</td><td id="sample_cities_added">No</td><td><button id="create_city_table" class="city_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_cities" class="city_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_city_table" class="city_btnDB_operations" disabled="disabled">Delete</button><button id="empty_city_table" class="city_btnDB_operations" disabled="disabled">Empty</button></td><td id="city_error_message"></td></tr>
		<tr><td>Areas</td><td id="areas_created">No</td><td id="sample_areas_added">No</td><td><button id="create_areas_table" class="areas_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_areas" class="areas_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_areas_table" class="areas_btnDB_operations" disabled="disabled">Delete</button><button id="empty_areas_table" class="areas_btnDB_operations" disabled="disabled">Empty</button></td><td id="areas_error_message"></td></tr>
		<tr><td>Packages</td><td id="packages_created">No</td><td id="sample_packages_added">No</td><td><button id="create_packages_table" class="packages_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_packages" class="packages_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_packages_table" class="packages_btnDB_operations" disabled="disabled">Delete</button><button id="empty_packages_table" class="packages_btnDB_operations" disabled="disabled">Empty</button></td><td id="packages_error_message"></td></tr>
		<tr><td>Orders</td><td id="orders_created">No</td><td id="sample_orders_added">No</td><td><button id="create_orders_table" class="orders_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_orders" class="orders_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_orders_table" class="orders_btnDB_operations" disabled="disabled">Delete</button><button id="empty_orders_table" class="orders_btnDB_operations" disabled="disabled">Empty</button></td><td id="orders_error_message"></td></tr>
		<tr><td>UserIDs</td><td id="userIDs_created">No</td><td id="sample_userIDs_added">No</td><td><button id="create_userIDs_table" class="userIDs_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_userIDs" class="userIDs_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_userIDs_table" class="userIDs_btnDB_operations" disabled="disabled">Delete</button><button id="empty_userIDs_table" class="userIDs_btnDB_operations" disabled="disabled">Empty</button></td><td id="userIDs_error_message"></td></tr>
		<tr><td>Users</td><td id="users_created">No</td><td id="sample_users_added">No</td><td><button id="create_users_table" class="users_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_users" class="users_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_users_table" class="users_btnDB_operations" disabled="disabled">Delete</button><button id="empty_users_table" class="users_btnDB_operations" disabled="disabled">Empty</button></td><td id="users_error_message"></td></tr>
		<tr><td>Admin</td><td id="admin_created">No</td><td id="sample_admin_added">No</td><td><button id="create_admin_table" class="admin_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_admin" class="admin_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_admin_table" class="admin_btnDB_operations" disabled="disabled">Delete</button><button id="empty_admin_table" class="admin_btnDB_operations" disabled="disabled">Empty</button></td><td id="admin_error_message"></td></tr>
		<tr><td>Admin_Rights</td><td id="admin_rights_created">No</td><td id="sample_admin_rights_added">No</td><td><button id="create_admin_rights_table" class="admin_rights_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_admin_rights" class="admin_rights_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_admin_rights_table" class="admin_rights_btnDB_operations" disabled="disabled">Delete</button><button id="empty_admin_rights_table" class="admin_rights_btnDB_operations" disabled="disabled">Empty</button></td><td id="admin_rights_error_message"></td></tr>
		<tr><td>Alerts</td><td id="alerts_created">No</td><td id="sample_alerts_added">No</td><td><button id="create_alerts_table" class="alerts_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_alerts" class="alerts_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_alerts_table" disabled="disabled" class="alerts_btnDB_operations">Delete</button><button id="empty_alerts_table" disabled="disabled" class="alerts_btnDB_operations">Empty</button></td><td id="alerts_error_message"></td></tr>
		<tr><td>DeliveryMethod</td><td id="delivery_method_created">No</td><td id="sample_delivery_method_added">No</td><td><button id="create_delivery_method_table" class="delivery_method_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_delivery_method" class="delivery_method_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_delivery_method_table" class="delivery_method_btnDB_operations" disabled="disabled">Delete</button><button id="empty_delivery_method_table" class="delivery_method_btnDB_operations" disabled="disabled">Empty</button></td><td id="delivery_method__error_message"></td></tr>
		<tr><td>Messages</td><td id="messages_created">No</td><td id="sample_messages_added">No</td><td><button id="create_messages_table" class="messages_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_messages" class="messages_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_messages_table" class="messages_btnDB_operations" disabled="disabled">Delete</button><button id="empty_messages_table" class="messages_btnDB_operations" disabled="disabled">Empty</button></td><td id="messages_error_message"></td></tr>
		<tr><td>ReplyMessages</td><td id="reply_messages_created">No</td><td id="sample_reply_messages_added">No</td><td><button id="create_reply_messages_table" class="reply_messages_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_reply_messages" class="reply_messages_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_reply_messages_table" class="reply_messages_btnDB_operations" disabled="disabled">Delete</button><button id="empty_reply_messages_table" class="reply_messages_btnDB_operations" disabled="disabled">Empty</button></td><td id="reply_messages_error_message"></td></tr>
		<tr><td>MessageAttachments</td><td id="message_attachments_created">No</td><td id="sample_message_attachments_added">No</td><td><button id="create_message_attachments_table" class="message_attachments_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_message_attachments" class="message_attachments_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_message_attachments_table" class="message_attachments_btnDB_operations" disabled="disabled">Delete</button><button id="empty_message_attachments_table" class="message_attachments_btnDB_operations" disabled="disabled">Empty</button></td><td id="message_attachments_error_message"></td></tr>
		<tr><td>CatchImages</td><td id="catch_images_created">No</td><td id="sample_catcha_images_added">No</td><td><button id="create_catcha_images_table" class="catcha_images_btnDB_operations" disabled="disabled">Create</button><button id="add_sample_catcha_images" class="catcha_images_btnDB_operations" disabled="disabled">Add samples</button><button id="delete_catcha_images_table" class="catcha_images_btnDB_operations" disabled="disabled">Delete</button><button id="empty_catcha_images_table" class="catcha_images_btnDB_operations" disabled="disabled">Empty</button></td><td id="catcha_images_error_message"></td></tr>
	</tbody>
		<tfoot><tr><td></td><td></td><td></td><td></td><td></td></tr></tfoot>
	</table>
    <br />
<div data-role="fieldset">
	<label for="database_name">Database Name:</label>
	<input type="text" id="database_name" value="PrintP" disabled>
	<!--  <input type="button" id="submit_database_name" value="Create Database"> -->
	</div>
	
</div>
</div>

	<div data-role="footer"></div>
</div>
	<script src="static/js/util.js"></script>
	<script src="/socket.io/lib/socket.io.js"></script>
	<script src="static/js/client_sample_data_logic.js"></script>
	<script src="static/js/client_create_database_logic.js"></script>
	<script src="static/js/client_providers.js"></script>
	<script src="static/js/client_end_users_logic.js"></script>
	<script src="static/js/client_system_errors.js"></script>
	<script src="static/js/client_system_alerts.js"></script>
	<script src="static/js/messages/client_messages_da/client_inbox_da.js"></script>
	<script src="static/js/messages/client_inbox.js"></script>
	<script src="static/js/client_messages.js"></script>
	<script src="static/js/catcha_manager/client_add_catcha.js"></script>
	<script src="static/js/catcha_manager/client_all_catcha.js"></script>
	<script src="static/js/client_catcha_manager.js"></script>
	<script src="static/js/client_simulators.js"></script>
	<script src="static/js/client_admin_actions.js"></script>
	<script src="static/js/client_more_options.js"></script>
<script>

	var socket = io.connect();
	
	client_create_database(socket);
	client_sample_data(socket);
	client_end_users(socket);
	client_system_errors(socket);
	
	sessionStorage['current_view'] = "startup_page";
	sessionStorage['listener_attached'] = "bogus";
	
	console.log(new FileReader());
	
	socket.emit("get_tables_data");
	
	$("#more_options").on("click",function(e){
		
		socket.emit("get_more_admin_options");
		e.preventDefault();
	});
	
	
	socket.on("more_admin_options",function(data){
		
		$("#default_menu").hide();
		$("#new_menu").show().html(data);
		client_more_options(socket);
		
	});
	
	
	
	$("#databases").on("click",function(e){
	
		socket.emit("get_database_content");
		e.preventDefault();
	});
	
	socket.on("database_content",function(data){
		
			$("#content").html(data);
			localStorage['listener_attached'] = "bogus";
			client_create_database(socket);
			client_sample_data(socket);
			socket.emit("get_tables_data");
	
		
	});
	
	socket.on("tables_data",function(tablesData){
		
		//console.log(tablesData);
		tablesData = JSON.parse(tablesData);
		populateTablesData(tablesData);
		
	});
	
	socket.on("get_tables_data_error",function(){
		
		$("#add_samples").attr("disabled","disabled");
		
	});
	
	
	$("#service_providers").on("click",function(e){

			socket.emit("get_service_providers");
			e.preventDefault();
		});
		
	socket.on("service_providers",function(data){
			
			$("#content").html(data);
			localStorage['listener_attached'] = "bogus";
			$("#filter_option").hide();
			client_providers(socket);
			
	});
		
	
	$("#system_alerts").on("click",function(e){
			socket.emit("get_system_alerts_page");
			e.preventDefault();
		});
		
	socket.on("system_alerts_page",function(data){
			
			$("#content").html(data);
			localStorage['listener_attached'] = "bogus";
			system_alerts(socket);
		});	
		
	socket.on("page_not_found",function(){
			var	$content = $("#content");
					$content.html("<div>The requested page could not be found. It may be moved or may never had existed. (0_o)</div>");
						
			
		});
	
</script>
</body>
</html>